--- ../src-base/minecraft/net/minecraft/entity/EntityLivingBase.java
+++ ../src-work/minecraft/net/minecraft/entity/EntityLivingBase.java
@@ -71,18 +71,36 @@
 import net.minecraftforge.fml.relauncher.Side;
 import net.minecraftforge.fml.relauncher.SideOnly;
 
+import java.util.ArrayList;
+
+//CraftBukkit start
+import java.util.ArrayList;
+import com.google.common.base.Function;
+import com.google.common.collect.Lists;
+import org.bukkit.Location;
+import org.bukkit.craftbukkit.attribute.CraftAttributeMap;
+import org.bukkit.craftbukkit.event.CraftEventFactory;
+import org.bukkit.craftbukkit.inventory.CraftItemStack;
+import org.bukkit.entity.Player;
+import org.bukkit.event.entity.EntityDamageEvent;
+import org.bukkit.event.entity.EntityDamageEvent.DamageModifier;
+import org.bukkit.event.entity.EntityRegainHealthEvent;
+import org.bukkit.event.entity.EntityTeleportEvent;
+import org.bukkit.event.player.PlayerItemConsumeEvent;
+// CraftBukkit end
+
 public abstract class EntityLivingBase extends Entity
 {
     private static final UUID field_110156_b = UUID.fromString("662A6B8D-DA3E-4C1C-8813-96EA6097278D");
     private static final AttributeModifier field_110157_c = (new AttributeModifier(field_110156_b, "Sprinting speed boost", 0.30000001192092896D, 2)).func_111168_a(false);
     protected static final DataParameter<Byte> field_184621_as = EntityDataManager.<Byte>func_187226_a(EntityLivingBase.class, DataSerializers.field_187191_a);
-    private static final DataParameter<Float> field_184632_c = EntityDataManager.<Float>func_187226_a(EntityLivingBase.class, DataSerializers.field_187193_c);
+    public static final DataParameter<Float> field_184632_c = EntityDataManager.<Float>func_187226_a(EntityLivingBase.class, DataSerializers.field_187193_c);
     private static final DataParameter<Integer> field_184633_f = EntityDataManager.<Integer>func_187226_a(EntityLivingBase.class, DataSerializers.field_187192_b);
     private static final DataParameter<Boolean> field_184634_g = EntityDataManager.<Boolean>func_187226_a(EntityLivingBase.class, DataSerializers.field_187198_h);
     private static final DataParameter<Integer> field_184635_h = EntityDataManager.<Integer>func_187226_a(EntityLivingBase.class, DataSerializers.field_187192_b);
     private AbstractAttributeMap field_110155_d;
     private final CombatTracker field_94063_bt = new CombatTracker(this);
-    private final Map<Potion, PotionEffect> field_70713_bf = Maps.<Potion, PotionEffect>newHashMap();
+    public final Map<Potion, PotionEffect> field_70713_bf = Maps.<Potion, PotionEffect>newHashMap();
     private final ItemStack[] field_184630_bs = new ItemStack[2];
     private final ItemStack[] field_184631_bt = new ItemStack[4];
     public boolean field_82175_bq;
@@ -109,9 +127,9 @@
     public float field_70759_as;
     public float field_70758_at;
     public float field_70747_aH = 0.02F;
-    protected EntityPlayer field_70717_bb;
+    public EntityPlayer field_70717_bb;
     protected int field_70718_bc;
-    protected boolean field_70729_aU;
+    public boolean field_70729_aU;
     protected int field_70708_bq;
     protected float field_70768_au;
     protected float field_110154_aX;
@@ -119,7 +137,7 @@
     protected float field_70763_ax;
     protected float field_70741_aB;
     protected int field_70744_aE;
-    protected float field_110153_bc;
+    public float field_110153_bc;
     protected boolean field_70703_bu;
     public float field_70702_br;
     public float field_70701_bs;
@@ -130,7 +148,7 @@
     protected double field_184625_bj;
     protected double field_184626_bk;
     protected double field_70709_bj;
-    private boolean field_70752_e = true;
+    protected boolean field_70752_e = true;
     private EntityLivingBase field_70755_b;
     private int field_70756_c;
     private EntityLivingBase field_110150_bn;
@@ -142,6 +160,15 @@
     protected int field_184628_bn;
     protected int field_184629_bo;
     private BlockPos field_184620_bC;
+    
+    // CraftBukkit start
+    public int expToDrop;
+    public int maxAirTicks = 300;
+    boolean forceDrops;
+    ArrayList<org.bukkit.inventory.ItemStack> drops = new ArrayList<org.bukkit.inventory.ItemStack>();
+    public org.bukkit.craftbukkit.attribute.CraftAttributeMap craftAttributes;
+    public boolean collides = true;
+    // CraftBukkit end
 
     public void func_174812_G()
     {
@@ -346,6 +373,18 @@
         this.field_70127_C = this.field_70125_A;
         this.field_70170_p.field_72984_F.func_76319_b();
     }
+    
+    // CraftBukkit start
+    public int getExpReward() {
+    	int exp = this.func_70693_a(this.field_70717_bb);
+    	
+    	if (!this.field_70170_p.field_72995_K && (this.field_70718_bc > 0 || this.func_70684_aJ()) && this.func_146066_aG() && this.field_70170_p.func_82736_K().func_82766_b("doMobLoot")) {
+    		return exp;
+    	} else {
+    		return 0;
+    	}
+    }
+        // CraftBukkit end
 
     protected void func_184594_b(BlockPos p_184594_1_)
     {
