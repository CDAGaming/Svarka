--- ../src-base/minecraft/net/minecraft/entity/monster/EntityCreeper.java
+++ ../src-work/minecraft/net/minecraft/entity/monster/EntityCreeper.java
@@ -33,7 +33,14 @@
 import net.minecraft.world.storage.loot.LootTableList;
 import net.minecraftforge.fml.relauncher.Side;
 import net.minecraftforge.fml.relauncher.SideOnly;
+import org.bukkit.craftbukkit.event.CraftEventFactory;
+import org.bukkit.event.entity.ExplosionPrimeEvent;
 
+//CraftBukkit start
+import org.bukkit.craftbukkit.event.CraftEventFactory;
+import org.bukkit.event.entity.ExplosionPrimeEvent;
+// CraftBukkit end
+
 public class EntityCreeper extends EntityMob
 {
     private static final DataParameter<Integer> field_184713_a = EntityDataManager.<Integer>func_187226_a(EntityCreeper.class, DataSerializers.field_187192_b);
@@ -181,7 +188,7 @@
 
     public void func_70645_a(DamageSource p_70645_1_)
     {
-        super.func_70645_a(p_70645_1_);
+        //super.onDeath(cause);
 
         if (this.field_70170_p.func_82736_K().func_82766_b("doMobLoot"))
         {
@@ -197,7 +204,7 @@
                 ((EntityCreeper)p_70645_1_.func_76346_g()).func_175493_co();
                 this.func_70099_a(new ItemStack(Items.field_151144_bL, 1, 4), 0.0F);
             }
-        }
+        }super.func_70645_a(p_70645_1_); // CB - moved.
     }
 
     public boolean func_70652_k(Entity p_70652_1_)
@@ -235,8 +242,16 @@
     public void func_70077_a(EntityLightningBolt p_70077_1_)
     {
         super.func_70077_a(p_70077_1_);
-        this.field_70180_af.func_187227_b(field_184714_b, Boolean.valueOf(true));
+        // CraftBukkit start
+        if (CraftEventFactory.callCreeperPowerEvent(this, p_70077_1_, org.bukkit.event.entity.CreeperPowerEvent.PowerCause.LIGHTNING).isCancelled()) {
+        	return;
+        }
+        	
+        this.setPowered(true);
     }
+    public void setPowered(boolean powered) {
+        this.field_70180_af.func_187227_b(field_184714_b, powered);
+    }
 
     protected boolean func_184645_a(EntityPlayer p_184645_1_, EnumHand p_184645_2_, @Nullable ItemStack p_184645_3_)
     {
@@ -262,9 +277,20 @@
         {
             boolean flag = this.field_70170_p.func_82736_K().func_82766_b("mobGriefing");
             float f = this.func_70830_n() ? 2.0F : 1.0F;
-            this.field_70729_aU = true;
-            this.field_70170_p.func_72876_a(this, this.field_70165_t, this.field_70163_u, this.field_70161_v, (float)this.field_82226_g * f, flag);
-            this.func_70106_y();
+            //this.dead = true;
+            //this.worldObj.createExplosion(this, this.posX, this.posY, this.posZ, (float)this.explosionRadius * f, flag);
+            //this.setDead();
+            // CraftBukkit start
+            ExplosionPrimeEvent event = new ExplosionPrimeEvent(this.getBukkitEntity(), this.field_82226_g * f, false);
+            this.field_70170_p.getServer().getPluginManager().callEvent(event);
+            if (!event.isCancelled()) {
+            	this.field_70729_aU = true;
+            	this.field_70170_p.func_72885_a(this, this.field_70165_t, this.field_70163_u, this.field_70161_v, event.getRadius(), event.getFire(), flag);
+            	this.func_70106_y();
+            } else {
+            	field_70833_d = 0;
+            }
+            // CraftBukkit end
         }
     }
 
